import{b as x,r,j as e,L as h}from"./index-C2VVdpu6.js";import{g}from"./unsplash-BYHeF-WM.js";const j=({country:a})=>{const{toggleWishlist:i,isInWishlist:l}=x(),[c,d]=r.useState(null),[m,o]=r.useState(!0);r.useEffect(()=>{let t=!0;return(async()=>{try{const s=await g(`${a.name} iconic landmark, travel`);t&&s&&d(s)}catch(s){console.warn(`Failed to fetch image for ${a.name}`,s)}finally{t&&o(!1)}})(),()=>{t=!1}},[a.name]);const n=c||`https://loremflickr.com/600/400/${a.name.replace(/\s+/g,",")},travel/all`;return e.jsxs(h,{to:`/country/${a.name.toLowerCase()}`,className:"group flex flex-col bg-white rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 overflow-hidden hover:-translate-y-1 h-full",children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-100",children:[e.jsx("img",{src:n,alt:a.name,className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${m?"opacity-0":"opacity-100"}`,loading:"lazy",onLoad:()=>o(!1),onError:t=>{t.target.onerror=null,t.target.src=a.flag,t.target.style.objectFit="cover"}}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-teal-800 text-[10px] font-bold px-2 py-1 rounded shadow-sm uppercase tracking-wider",children:a.region})})]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-teal-600 transition-colors line-clamp-1",children:a.name})}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-4 font-medium",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0z"})}),(a.population/1e6).toFixed(1),"M"]}),e.jsxs("span",{className:"flex items-center gap-1 truncate max-w-[100px]",children:[e.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),a.capital]})]}),e.jsxs("p",{className:"text-gray-500 text-sm leading-relaxed mb-4 line-clamp-2 flex-grow",children:["Discover the unique culture and beautiful landscapes of ",a.name,"."]}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400 font-medium group-hover:text-teal-600 transition-colors",children:"View Guide"}),e.jsx("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),i({id:a.name,type:"country",name:a.name,image:n,region:a.region})},className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${l(a.name,"country")?"bg-red-50 text-red-500":"bg-gray-50 text-gray-400 hover:bg-red-50 hover:text-red-500"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:l(a.name,"country")?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]})]})]})};export{j as C};
