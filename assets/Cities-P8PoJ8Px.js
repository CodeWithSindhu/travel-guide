import{a as w,r as n,j as e,L as o}from"./index-C2VVdpu6.js";import{f as N}from"./countries-DSGF2Tlq.js";import{f as k}from"./cities-BykF4F1N.js";import{g as C}from"./unsplash-BYHeF-WM.js";const E=()=>{const{countryName:l}=w(),[i,h]=n.useState(null),[c,p]=n.useState([]),[d,m]=n.useState(!0),[g,f]=n.useState(null),[L,D]=n.useState(null),[x,j]=n.useState(""),[r,v]=n.useState("All");if(n.useEffect(()=>{l&&(async()=>{try{m(!0);const a=await N(l);let s=await C(`${a.apiData.name.common} landscape`);s||(s=`https://loremflickr.com/1600/600/${a.apiData.name.common},landscape`),h({name:a.apiData.name.common,image:s,description:`Explore all top destinations in ${a.apiData.name.common}.`});const b=await k(a.apiData.name.common,a.apiData.cca2,10);p(b)}catch(a){console.error("Error fetching cities page data:",a),f("Could not load cities.")}finally{m(!1)}})()},[l]),d)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:e.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[e.jsx("div",{className:"h-12 w-12 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Finding destinations..."})]})});if(g||!i)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx(o,{to:"/",className:"text-teal-600 hover:underline",children:"Return Home"})]})});const y=["All","Culture","Nature","Modern","History"],u=c.filter(t=>{const a=t.name.toLowerCase().includes(x.toLowerCase());if(r==="All"||(t.description+t.name).toLowerCase().includes(r.toLowerCase()),r==="All")return a;const s=(t.description+t.name).toLowerCase();return r==="Culture"?a&&(s.includes("culture")||s.includes("temple")||s.includes("art")||s.includes("history")):r==="Nature"?a&&(s.includes("nature")||s.includes("park")||s.includes("river")||s.includes("mountain")):r==="Modern"?a&&(s.includes("modern")||s.includes("city")||s.includes("skyline")||s.includes("mall")):r==="History"?a&&(s.includes("history")||s.includes("fort")||s.includes("ancient")||s.includes("monument")):a});return e.jsxs("div",{className:"bg-white min-h-screen font-sans text-gray-900",children:[e.jsxs("section",{className:"relative h-[50vh] min-h-[400px] flex items-end pb-12",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:i?.image,alt:i?.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-white",children:[e.jsx("div",{className:"mb-4 animate-fade-in-up",children:e.jsxs(o,{to:`/country/${l}`,className:"inline-flex items-center gap-2 text-teal-300 hover:text-white transition-colors duration-300 font-bold tracking-widest uppercase text-xs",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),e.jsx("span",{children:"Back to Overview"})]})}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight mb-4 drop-shadow-lg",children:["Explore ",i?.name]}),e.jsx("p",{className:"text-lg md:text-xl text-white/90 max-w-2xl font-light",children:"Discover the best cities, hidden gems, and local favorites."})]})]}),e.jsx("section",{className:"sticky top-16 z-40 bg-white/80 backdrop-blur-xl border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 md:pb-0 no-scrollbar",children:y.map(t=>e.jsx("button",{onClick:()=>v(t),className:`whitespace-nowrap px-4 py-2 rounded-full text-sm font-medium transition-all ${r===t?"bg-teal-600 text-white shadow-md shadow-teal-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:t},t))}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search cities...",value:x,onChange:t=>j(t.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-200 rounded-xl leading-5 bg-gray-50 placeholder-gray-400 focus:outline-none focus:bg-white focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all sm:text-sm"})]})]})})}),e.jsx("section",{className:"py-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:d?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-teal-600 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Curating destinations..."})]}):u.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4 text-gray-400",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No destinations found"}),e.jsx("p",{className:"mt-1 text-gray-500",children:"Try adjusting your search or filters."}),c.length===0&&e.jsx("p",{className:"mt-4 text-xs text-red-400/80 bg-red-50 inline-block px-3 py-1 rounded-full",children:"API Limit Warning: Data provider might be rate limited."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12",children:u.map((t,a)=>e.jsxs(o,{to:`/country/${l}/city/${t.name.toLowerCase()}`,className:"group flex flex-col gap-4 cursor-pointer",children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-2xl bg-gray-100",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 ring-1 ring-inset ring-black/5 rounded-2xl"}),e.jsx("div",{className:"absolute bottom-4 right-4 opacity-0 transform translate-y-2 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300",children:e.jsx("span",{className:"flex items-center justify-center w-10 h-10 bg-white text-teal-600 rounded-full shadow-lg",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-teal-600 transition-colors",children:t.name}),e.jsxs("div",{className:"flex items-center gap-1 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[e.jsx("svg",{className:"w-3 h-3 text-teal-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),e.jsx("span",{children:"Popular"})]})]}),e.jsx("p",{className:"text-gray-600 line-clamp-2 text-sm leading-relaxed",children:t.description})]})]},t.name))})})]})};export{E as default};
